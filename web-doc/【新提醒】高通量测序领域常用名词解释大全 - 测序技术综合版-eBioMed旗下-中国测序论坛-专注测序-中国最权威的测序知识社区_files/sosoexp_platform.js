var SOSO_EXP=SOSO_EXP||{Register:function(e,d,h,g,c,f,a){var b={};if(arguments.length==1&&typeof arguments[0]=="object"){b=arguments[0]}else{b.appid=e;b.ref=d;b.expBtn=h;b.pos=g;b.editbox=c;b.callback=f;b.mask=a}if(!b.appid||b.appid<30000){return false}if(!b.ref||SOSO_EXP.Tool.Type(b.ref)!="String"){return false}if(b.expBtn&&b.expBtn.nodeType!=1){return false}if(typeof b.callback!="function"){return false}if(!b.pos||!SOSO_EXP.Tool.InArray(b.pos,["top","bottom","left","right"])){b.pos="bottom"}if((b.mask===undefined)||b.mask<0||b.mask>127){b.mask=127}SOSO_EXP.Platform.init(b)},Tool:{InArray:function(c,a){if(SOSO_EXP.Tool.Type(a)!="Array"){return false}for(var b=0;b<a.length;b++){if(a[b]===c){return true}}return false},Type:function(a){return Object.prototype.toString.call(a).slice(8,-1)},Trim:function(a){if(SOSO_EXP.Tool.Type(a)!="String"){return""}a=a.replace(/\s+/," ");return(a===" ")?"":a},Discuz:function(){return !!SOSO_EXP.DomHandler.ID("append_parent")},StatReport:function(b){var a=window.__appstat||window.__sosostat||undefined;if(!a){return}if(!a.sc){a.sc="bq_app"}b=b||{};if(typeof a.run=="function"){a.run(b)}}},DomHandler:{Create:function(a){if(SOSO_EXP.Tool.Type(a)!="String"){return null}return document.createElement(a)||null},ID:function(a){return document.getElementById(a)||null},TAG:function(a,b){b=b||document;return(b.nodeType==1||b.nodeType==9)?(b.getElementsByTagName(a)||null):null},RestrictID:function(e,a,d){d=d||document;a=a||"*";if(SOSO_EXP.Tool.Type(e)!="String"||SOSO_EXP.Tool.Type(a)!="String"||(d.nodeType!=1&&d.nodeType!=9)){return null}var b=null;elemSet=d.getElementsByTagName(a);for(var c=0;c<elemSet.length;c++){if(elemSet[c].id===e){b=elemSet[c];break}}return b},CLASS:function(e,a,f){f=f||document;a=a||"*";if(SOSO_EXP.Tool.Type(e)!="String"||SOSO_EXP.Tool.Type(a)!="String"||(f.nodeType!=1&&f.nodeType!=9)){return null}var b=[],d=new RegExp("(^|\\s)"+e+"(\\s|$)");elemSet=f.getElementsByTagName(a);for(var c=0;c<elemSet.length;c++){if(d.test(elemSet[c].className)){b.push(elemSet[c])}}return b},Hasclass:function(b,c){if(c.nodeType!=1||SOSO_EXP.Tool.Type(b)!="String"){return false}var a=new RegExp("(^|\\s)"+b+"(\\s|$)");return a.test(c.className)},HasAncestorById:function(c,b,a){if(b.nodeType!=1||SOSO_EXP.Tool.Type(c)!="String"){return false}while(b=b.parentNode){if(b.id===c||(a&&b.id&&b.id.indexOf(c)==0)){return true}}return false},Empty:function(a){if(a.nodeType!=1){return false}for(;a.childNodes.length>0;){a.removeChild(a.childNodes[0])}}},Browser:function(){var d={name:"unknown",version:0},b={presto:function(){return(!window.opera)?false:((arguments.callee.caller)?960:((document.getElementsByClassName)?950:925))},trident:function(){return(!window.ActiveXObject)?false:((window.XMLHttpRequest)?((document.querySelectorAll)?6:5):4)},webkit:function(){return(navigator.taintEnabled)?false:((Browser.Features.xpath)?((Browser.Features.query)?525:420):419)},gecko:function(){return(!document.getBoxObjectFor&&window.mozInnerScreenX==null)?false:((document.getElementsByClassName)?19:18)}},c=function(){for(var g=0,f=arguments.length;g<f;g++){try{return arguments[g]()}catch(h){}}return null},a=function(){return c(function(){return new XMLHttpRequest()},function(){return new ActiveXObject("MSXML2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")})};return{Platform:{name:(window.orientation!=undefined)?"ipod":(navigator.platform.match(/mac|win|linux/i)||["other"])[0].toLowerCase()},Features:{xpath:!!(document.evaluate),air:!!(window.runtime),query:!!(document.querySelector),xhr:!!(a())},getXMLHttpRequest:function(){return a()},Plugins:{Flash:(function(){var e=(c(function(){return navigator.plugins["Shockwave Flash"].description},function(){return new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")})||"0 r0").match(/\d+/g);return{version:parseInt(e[0]||0+"."+e[1],10)||0,build:parseInt(e[2],10)||0}})()},detect:function(){for(var f in b){var e=b[f]();if(e){this._Engine={name:f,version:e};this._Engine[f]=d[f+e]=true;break}}return{name:f,version:e}},IE6:b.trident()&&~~b.trident()<5}}(),Event:function(){var a=1,b=function(g){var g=g||window.event,f=true,c=this.events[g.type];for(var d in c){this.$$handleEvent=c[d];if(this.$$handleEvent(g)===false){f=false}}};return{stopBubble:function(c){if(c&&c.stopPropagation){c.stopPropagation()}else{window.event.cancelBubble=true}},preventDefault:function(c){if(c&&c.preventDefault){c.preventDefault()}else{window.event.returnValue=false}},addEvent:function(f,e,d){if(!d.$$guid){d.$$guid=a++}if(!f.events){f.events={}}var c=f.events[e];if(!c){c=f.events[e]={};if(f["on"+e]){c[0]=f["on"+e]}}c[d.$$guid]=d;f["on"+e]=b},removeEvent:function(e,d,c){if(e.events&&e.events[d]){delete e.events[d][c.$$guid]}}}}(),Ajax:function(){var a,f,e,d,b=function(h){try{return;(!h.status&&location.protocol=="file:")||(h.status>=200&&h.status<300)||(h.status==304)||(SOSO_EXP.Browser.detect().name.indexOf(webkit)>=0&&typeof h.status=="undefined")}catch(g){}return false},c=function(i,g){var j=i.getResponseHeader("content-type"),h=!g&&j&&j.indexOf("xml")>0;h=(g=="xml"||h)?i.responseXML:i.responseText;return h};return function(h){a={type:h.type||"post",dataType:h.dataType||"",preload:h.preload||false,scriptCharset:h.scriptCharset||"utf-8",url:h.url||"",timeout:h.timeout||5000,onComplete:h.onComplete||function(){},onError:h.onError||function(){},onSuccess:h.onSuccess||function(){},data:h.data||""};if(a.dataType=="script"){var i=SOSO_EXP.DomHandler.TAG("head")[0],g=SOSO_EXP.DomHandler.Create("script");g.src=a.url;if(a.scriptCharset){g.charset=a.scriptCharset}d=false;SOSO_EXP.Platform.setScriptDoneFlag(false);g.onload=g.onreadystatechange=function(){if(!d&&(!this.readyState||this.readyState=="loaded"||this.readyState=="complete")){d=true;if(!a.preload){var j=setInterval(function(){if(!SOSO_EXP.Platform.getScriptDoneFlag()){return}a.onSuccess();a.onComplete();g.onload=g.onreadystatechange=null;i.removeChild(g);clearInterval(j)},10)}else{g.onload=g.onreadystatechange=null;i.removeChild(g)}}};setTimeout(function(){i.appendChild(g)},1);return undefined}f=(SOSO_EXP.Browser.Features.xhr&&SOSO_EXP.Browser.getXMLHttpRequest())||null;if(!f){return false}f.open(a.type,a.url,true);e=a.timeout;d=false;setTimeout(function(){d=true},e);f.onreadystatechange=function(){if(f.readyState==4&&!d){if(b(f)){a.onSuccess(c(f,a.type))}else{a.onError()}a.onComplete();f=null}};f.send(a.data)}}(),OuterFrame:function(){var q,k,f=[],s=[],b=[],h=[],n=[],j=[],r="soso_exp_platform_box",i="http://cache.soso.com/img/img/imageApp20101015.css",l="http://cache.soso.com/js/an-app.js",o,c,m=false,g=["http://bq.soso.com/image.cgi/app?pname=exp_pltf_default"],u=function(){var w=SOSO_EXP.Platform.getCurExpBtn();for(var v=0;v<h.length;v++){if(w==s[v]){break}}return v},a=function(){return s.length||0},p=function(){if(!o){e()}},e=function(){var w=SOSO_EXP.DomHandler.TAG("head")[0],v=SOSO_EXP.DomHandler.Create("link");v.rel="stylesheet";v.type="text/css";v.media="screen";v.href=i;w.appendChild(v);o=v},t=function(){var v=SOSO_EXP.DomHandler.TAG("head")[0],w=SOSO_EXP.DomHandler.Create("script");w.type="text/javascript";w.src=l;v.appendChild(w);c=w},d=function(){for(var w=0,v=g.length;w<v;w++){(function(){var x=w;setTimeout(function(){SOSO_EXP.Ajax({url:g[x]+"&appid="+q+"&ref="+k,dataType:"script",scriptCharset:"utf-8",preload:true})},x*200)})()}m=true};return{init:function(v){q=v.appid||10001;k=v.ref||"";f.push(v.callback||function(){});h.push(v.editbox);b.push(v.pos);s.push(v.expBtn);n.push(v.mask);j.push([]);p()},loadResource:function(){p()},registerEvents:function(v,x){if(SOSO_EXP.Tool.Type(x)!="Array"||(v>a()-1)){return false}if(SOSO_EXP.Tool.Type(x[0])!="Array"){x=[x]}for(var w=0;w<x.length;w++){j[v].push(x[w])}},clearRegisterEvents:function(v){if(v>a()-1){return false}for(var w=0;w<j[v].length;w++){SOSO_EXP.Event.removeEvent(j[v][w][0],j[v][w][1],j[v][w][2])}j[v]=[]},getCurIndex:function(){return u()},getCurPos:function(){var v=u();return(v<h.length)?b[v]:"bottom"},getCurMask:function(){var v=u();return(v<h.length)?n[v]:127},fillEditBox:function(w){var v=u();if(v<h.length){f[v].call(window,h[v],w)}if(!SOSO_EXP.Platform.getOuterBox()){SOSO_EXP.Platform.hideBox()}}}}(),Platform:function(){var au=446,am=305,a=5,aB=5,W=41,p=27,az,ax,B,aw,aj,y,aa,A,Y,T,ac,X,ah,ak,o,U,g,ab,O="http://image.qq.com/exp_pltf_index.shtml",ag="soso_exp_platform_box",D="soso_exp_main",af="soso_exp_Nav",f="soso_exp_piclist",ap="soso_exp_appSearch",L="soso_exp_appButton",ai="soso_exp_appInput",V="soso_exp_myNav",q="soso_exp_hot",J="soso_exp_tuilist",R="soso_exp_nocont",K="soso_exp_footer",c="soso_exp_page",E="soso_exp_goWeb",w="soso_exp_no",x="soso_exp_more",l='<div class="soso_exp_pic"><img src="_SRC_" alt="" style="_STYLE_" /></div>',ad="http://bq.soso.com/image.cgi/app?pname=",at="http://bq.soso.com/image.cgi/appres?sc=img&ity=13&fr=clt&ie=utf-8&w=",e="http://bq.soso.com/image.cgi/app?pname=exp_pltf_default",z="http://cache.soso.com/image/htm/duty.html",Z="http://jump.soso.com/q?bid=100",S="to_be_defined_notice_href",P=function(aD,aC){B=aD;aw=aC;ak="p.app.index.page";ab=false;if(!Y){Y=SOSO_EXP.DomHandler.Create("div");Y.setAttribute("id","mp_div")}},v=function(aG){arrSplit=aG.split("-");if(arrSplit==1){return""}var aD=aG.indexOf("-")==0?arrSplit[0].charAt(0).toUpperCase()+arrSplit[0].substring(1):arrSplit[0],aE,aC,aF;for(aE=1,aC=arrSplit.length;aE<aC;aE++){aF=arrSplit[aE];aD+=aF.charAt(0).toUpperCase()+aF.substring(1)}return aD},s=function(aD,aC){if(aD.nodeType!=1){return null}var aE=aD.style[v(aC)];if(!aE){aE=document.defaultView?document.defaultView.getComputedStyle(aD,"").getPropertyValue(aC):(aD.currentStyle?aD.currentStyle[v(aC)]:null)}return aE},G=function(aC){return(aC.style.position==="absolute")?(parseInt(aC.style.left)||0):(aC.offsetParent?parseInt(aC.offsetLeft)+G(aC.offsetParent):parseInt(aC.offsetLeft))},F=function(aC){return(aC.style.position==="absolute")?(parseInt(aC.style.top)||0):(aC.offsetParent?parseInt(aC.offsetTop)+F(aC.offsetParent):parseInt(aC.offsetTop))},ao=function(aD,aC){return(!aC)?aD.offsetWidth:(aD.offsetWidth-(parseInt(s(aD,"padding-left"))||0)-(parseInt(s(aD,"padding-right"))||0)-(parseInt(s(aD,"border-left-width"))||0)-(parseInt(s(aD,"border-right-width"))||0))},i=function(aD,aC){return(!aC)?aD.offsetHeight:(aD.offsetHeight-(parseInt(s(aD,"padding-top"))||0)-(parseInt(s(aD,"padding-bottom"))||0)-(parseInt(s(aD,"border-top-width"))||0)-(parseInt(s(aD,"border-bottom-width"))||0))},t=function(aD,aC){aD=aD||"x";aC=aC||"bottom";if(aD==="x"){switch(aC){case"left":return G(aa)-au-a;case"right":return G(aa)+ao(aa)+a;case"top":case"bottom":default:return G(aa)}}if(aD==="y"){switch(aC){case"top":return F(aa)-am-aB;case"bottom":return F(aa)+i(aa)+aB;case"left":case"right":default:return F(aa)}}},C=function(){if(SOSO_EXP.Tool.Discuz()&&SOSO_EXP.DomHandler.HasAncestorById("floatwin_",aa,true)){az-=600}},b=function(){var aE=document.documentElement.clientWidth,aD=document.documentElement.clientHeight,aF=document.documentElement.scrollTop,aG=document.documentElement.scrollLeft,aC=2;C();if(az-aG+au>aE&&az+aC<=aE){az=aE+aG-au-aC}if(ax-aF+am>aD){document.documentElement.scrollTop=ax+am-aD-aC}},I=function(){switch(y){case"left":az=G(aa)-au-a;ax=F(aa);b();break;case"right":az=G(aa)+ao(aa)+a;ax=F(aa);b();break;case"top":az=G(aa);ax=F(aa)-am-aB;b();break;case"bottom":default:az=G(aa);ax=F(aa)+i(aa)+aB;b();break}},h=function(aD){var aC=SOSO_EXP.DomHandler.Create("div");aC.innerHTML=aD;aq(aC);return aC},aq=function(aG){var aO=SOSO_EXP.OuterFrame.getCurMask(),aM=SOSO_EXP.DomHandler.RestrictID(D,"div",aG),aL=SOSO_EXP.DomHandler.RestrictID(ap,"div",aG),aJ=SOSO_EXP.DomHandler.RestrictID(af,"div",aG),aK=SOSO_EXP.DomHandler.TAG("li",aJ)[0],aC=SOSO_EXP.DomHandler.TAG("li",aJ)[1],aN=SOSO_EXP.DomHandler.TAG("li",aJ)[2],aF=SOSO_EXP.DomHandler.TAG("li",aJ)[3],aH=SOSO_EXP.DomHandler.RestrictID(V,"ul",aG),aE=SOSO_EXP.DomHandler.TAG("li",aH)[0],aD=SOSO_EXP.DomHandler.TAG("li",aH)[1],aI=am;if(!(aO&64)&&aL){aL.style.display="none";aI-=W}if(!(aO&32)&&aK){aK.style.display="none"}if(!(aO&16)&&aC){aC.style.display="none"}if(!(aO&8)&&aN){aN.style.display="none"}if(!(aO&4)&&aF){aF.style.display="none"}if(!(aO&2)&&aH&&aE){aE.style.display="none"}if(!(aO&1)&&aH&&aD){aD.style.display="none"}if(!(aO&3)&&aH){aH.style.display="none"}if(!(aO&63)&&aJ){aJ.style.display="none";aI-=p}aG.style.height=aI+"px";if(aM){aM.style.height=(aI-2)+"px"}},H=function(aD){if(SOSO_EXP.Tool.Type(aD)!="String"||!aj){return false}var aC=h(aD);SOSO_EXP.DomHandler.Empty(aj);aj.innerHTML=aC.innerHTML;aC=null},d=function(){if(!aj){aj=SOSO_EXP.DomHandler.Create("div");if(!ah){aj.style.position="absolute"}aj.id=ag;aj.style.zIndex=9999;aj.style.backgroundColor="#FFF";aj.style.width=au+"px";aj.style.height=am+"px";g=e+"&appid="+B+"&ref="+aw;o="s.p.app.index";U=0;SOSO_EXP.Ajax({url:e+"&appid="+B+"&ref="+aw,type:"GET",dataType:"script",scriptCharset:"utf-8",onSuccess:function(){T=ac=X=1;N();n()}})}else{N()}data={url:encodeURIComponent(g)};if(o){data.ch=o}if(ak){data.cid=ak}if(U){data.ac=U}SOSO_EXP.Tool.StatReport(data)},N=function(){if(!aj){return}else{y=SOSO_EXP.OuterFrame.getCurPos();if(!ah){I();aj.style.left=az+"px";aj.style.top=ax+"px"}var aC=SOSO_EXP.DomHandler.ID(ag),aD=ah||document.body;if(aC){aC.parentNode.removeChild(aC)}if(aD.nodeType!==1){return}aD.appendChild(aj);SOSO_EXP.Event.removeEvent(aj,"click",m);SOSO_EXP.Event.addEvent(aj,"click",m)}},r=function(){var aC=SOSO_EXP.DomHandler.ID(ag);if(aC){aC.parentNode.removeChild(aC)}},m=function(aC){SOSO_EXP.Event.stopBubble(aC);SOSO_EXP.Event.preventDefault(aC)},M=function(aE){var aC=u(this.href),aD;if(T==10){if(aC==2){this.href=this.href.replace(/exp_pltf_lt_([0-9]+)\b/,function(aF,aG){return"exp_pltf_lt_"+ac})}else{if(aC==3){this.href=this.href.replace(/exp_pltf_xilie_([0-9]+)\b/,function(aF,aG){return"exp_pltf_xilie_"+X})}}}k.call(this,aE)},k=function(aG){SOSO_EXP.OuterFrame.clearRegisterEvents(SOSO_EXP.OuterFrame.getCurIndex());var aC=this.href+"&appid="+B+"&ref="+aw,aH=ak,aD,aE,aF;if(SOSO_EXP.DomHandler.HasAncestorById(c,this)){switch(T){case 2:o=aD="s.p.app.chat.roll";break;case 3:o=aD="s.p.app.ser.roll";break;case 4:o=aD="s.p.app.cool.roll";break;case 10:o=aD="s.p.app.seach.roll";break;default:}}if(SOSO_EXP.DomHandler.HasAncestorById(af,this)){switch(true){case this.href.indexOf("exp_pltf_default")>-1:o=aD="s.p.app.index";break;case this.href.indexOf("exp_pltf_lt")>-1:o=aD="s.p.app.chat";break;case this.href.indexOf("exp_pltf_xilie")>-1:o=aD="s.p.app.ser";break;case this.href.indexOf("exp_pltf_xinqi")>-1:o=aD="s.p.app.cool";break;default:}}if(SOSO_EXP.DomHandler.HasAncestorById(q,this)){ak=aH="p.app.chat.w";U=aE=1}if(SOSO_EXP.DomHandler.HasAncestorById(J,this)){ak=aH="p.app.ser";U=aE=1}if(aD||aE){_curUrl=aC;aF={url:encodeURIComponent(aC),cid:aH};if(aD){aF.ch=aD}if(aE){aF.ac=aE}SOSO_EXP.Tool.StatReport(aF)}SOSO_EXP.Ajax({url:aC,type:"GET",dataType:"script",scriptCharset:"utf-8",onSuccess:function(){T=u(this.url);if(T==2){ac=this.url.match(/exp_pltf_lt_([0-9]+)\b/)?this.url.match(/exp_pltf_lt_([0-9]+)\b/)[1]:1}if(T==3){X=this.url.match(/exp_pltf_xilie_([0-9]+)\b/)?this.url.match(/exp_pltf_xilie_([0-9]+)\b/)[1]:1}N();n()}});SOSO_EXP.Event.stopBubble(aG);SOSO_EXP.Event.preventDefault(aG)},ar=function(aF){var aD,aG=ak,aE={},aC=false;if(SOSO_EXP.DomHandler.Hasclass(E,this)){switch(T){case 2:ak=aG="p.app.chat.wm";aC=true;break;case 3:ak=aG="p.app.ser.m";aC=true;break;case 4:ak=aG="p.app.cool.m";aC=true;break;case 10:ak=aG="p.app.more";aC=true;break;default:}}else{switch(this.href){case z:aD="s.p.app.fwsm";aC=true;break;case Z:aD="ch=s.p.app.supp";aC=true;break;case S:aD="s.p.app.gg";aC=true;break;default:}}if(aC){if(aD){aE.ch=aD}aE.cid=aG;SOSO_EXP.Tool.StatReport(aE)}window.open(this.href,"_blank");SOSO_EXP.Event.stopBubble(aF);SOSO_EXP.Event.preventDefault(aF)},ae=function(aF){var aE=encodeURIComponent(SOSO_EXP.Tool.Trim(SOSO_EXP.DomHandler.ID(ai).value));if(aE.length>0){SOSO_EXP.OuterFrame.clearRegisterEvents(SOSO_EXP.OuterFrame.getCurIndex());var aC=at+aE+"&appid="+B+"&ref="+aw,aD={url:encodeURIComponent(aC),ch:"s.p.app.i",cid:"p.app.i",ac:0};ak="p.app.i";_curUrl=aC;o="s.p.app.i";U=0;SOSO_EXP.Tool.StatReport(aD);SOSO_EXP.Ajax({url:aC,type:"GET",dataType:"script",scriptCharset:"utf-8",onSuccess:function(){T=SOSO_EXP.DomHandler.ID(R)?11:10;N();n()}})}SOSO_EXP.Event.stopBubble(aF);SOSO_EXP.Event.preventDefault(aF)},Q=function(aF){var aG=(aF&&aF.which)||window.event.keyCode||null;if(aG===13){var aE=encodeURIComponent(SOSO_EXP.Tool.Trim(SOSO_EXP.DomHandler.ID(ai).value));if(aE.length>0){var aC=at+aE+"&appid="+B+"&ref="+aw,aD={url:encodeURIComponent(aC),ch:"s.p.app.i",cid:"p.app.i",ac:0};ak="p.app.i";_curUrl=aC;o="s.p.app.i";U=0;SOSO_EXP.Tool.StatReport(aD);SOSO_EXP.Ajax({url:aC,type:"GET",dataType:"script",scriptCharset:"utf-8",onSuccess:function(){T=SOSO_EXP.DomHandler.ID(R)?11:10;N();n()}});SOSO_EXP.Event.stopBubble(aF);SOSO_EXP.Event.preventDefault(aF)}}},u=function(aC){return(aC.indexOf("exp_pltf_default")>=0)?1:((aC.indexOf("exp_pltf_lt")>=0)?2:((aC.indexOf("exp_pltf_xilie")>=0)?3:((aC.indexOf("exp_pltf_xinqi")>=0)?4:10)))},n=function(){aA();al();switch(T){case 1:an();break;case 2:j();break;case 3:ay();break;case 11:av();an();break;default:}if(SOSO_EXP.Tool.InArray(T,[2,3,4,10])){_bindPagerEvent()}if(SOSO_EXP.Tool.InArray(T,[1,4,10,11])){_bindPicEvent()}},aA=function(){var aC=SOSO_EXP.DomHandler.ID(L),aD=SOSO_EXP.DomHandler.ID(ai);if(aC){SOSO_EXP.Event.addEvent(aC,"click",ae);SOSO_EXP.Event.addEvent(aD,"keydown",Q);SOSO_EXP.OuterFrame.registerEvents(SOSO_EXP.OuterFrame.getCurIndex(),[aC,"click",ae]);SOSO_EXP.OuterFrame.registerEvents(SOSO_EXP.OuterFrame.getCurIndex(),[aD,"keydown",Q])}},al=function(){var aD=SOSO_EXP.DomHandler.ID(af),aF=SOSO_EXP.DomHandler.TAG("a",aD);if(aD){var aC=[];for(var aE=0;aE<aF.length;aE++){SOSO_EXP.Event.addEvent(aF[aE],"click",M);aC.push([aF[aE],"click",M])}if(aC.length>0){SOSO_EXP.OuterFrame.registerEvents(SOSO_EXP.OuterFrame.getCurIndex(),aC)}}},an=function(){var aE=SOSO_EXP.DomHandler.ID(K),aF=SOSO_EXP.DomHandler.TAG("a",aE);if(aE){var aC=[];for(var aD=0;aD<aF.length;aD++){SOSO_EXP.Event.addEvent(aF[aD],"click",ar);aC.push([aF[aD],"click",ar])}if(aC.length>0){SOSO_EXP.OuterFrame.registerEvents(SOSO_EXP.OuterFrame.getCurIndex(),aC)}}},j=function(){var aD=SOSO_EXP.DomHandler.ID(q),aF=SOSO_EXP.DomHandler.TAG("a",aD);if(aD){var aC=[];for(var aE=0;aE<aF.length;aE++){SOSO_EXP.Event.addEvent(aF[aE],"click",k);aC.push([aF[aE],"click",k])}if(aC.length>0){SOSO_EXP.OuterFrame.registerEvents(SOSO_EXP.OuterFrame.getCurIndex(),aC)}}},ay=function(){var aD=SOSO_EXP.DomHandler.ID(J),aF=SOSO_EXP.DomHandler.TAG("a",aD);if(aD){var aC=[];for(var aE=0;aE<aF.length;aE++){SOSO_EXP.Event.addEvent(aF[aE],"click",k);aC.push([aF[aE],"click",k])}if(aC.length>0){SOSO_EXP.OuterFrame.registerEvents(SOSO_EXP.OuterFrame.getCurIndex(),aC)}}},av=function(){var aD=SOSO_EXP.DomHandler.ID(R),aC=SOSO_EXP.DomHandler.CLASS(x,"a",aD)[0];if(aD){SOSO_EXP.Event.addEvent(aC,"click",k);SOSO_EXP.OuterFrame.registerEvents(SOSO_EXP.OuterFrame.getCurIndex(),[aC,"click",k])}};_bindPagerEvent=function(){var aF=SOSO_EXP.DomHandler.ID(c),aE=SOSO_EXP.DomHandler.TAG("a",aF);if(aF){var aC=[];for(var aD=0;aD<aE.length;aD++){if(!SOSO_EXP.DomHandler.Hasclass(w,aE[aD])){SOSO_EXP.Event.addEvent(aE[aD],"click",SOSO_EXP.DomHandler.Hasclass(E,aE[aD])?ar:k);aC.push([aE[aD],"click",SOSO_EXP.DomHandler.Hasclass(E,aE[aD])?ar:k])}}if(aC.length>0){SOSO_EXP.OuterFrame.registerEvents(SOSO_EXP.OuterFrame.getCurIndex(),aC)}}},_bindPicEvent=function(){var aE=SOSO_EXP.DomHandler.ID(f),aC=SOSO_EXP.DomHandler.TAG("a",aE);if(aE){for(var aD=0;aD<aC.length;aD++){(function(){var aM=aD,aH=T,aN=ak,aF=[],aI=function(aQ){var aP=SOSO_EXP.DomHandler.TAG("img",aQ)[0];return aP.getAttribute("src")||null},aJ=function(aP){var aQ=aP.getAttribute("info");return aQ.split("|")[2]||"height:78px;width:78px"},aG=function(aP){var aQ=aP.getAttribute("info");return aQ.split("|")[3]||null},aO=function(aS){if(A==this){return true}var aT=(aH==1)?"http://cache.soso.com/img/img/"+this.className+".gif":aI(this),aP=(aH==1)?"height:24px;width:24px;margin-top:25px":aJ(SOSO_EXP.DomHandler.TAG("img",this)[0]);Y.innerHTML=l.replace("_SRC_",aT).replace("_STYLE_",aP);switch(aH){case 1:Y.className=(aM%15<8)?"mp_right":"mp_left";break;case 4:case 10:Y.className=(aM%8<4)?"mp_right":"mp_left";break;case 11:Y.className=(aM%7<4)?"mp_right":"mp_left";break;default:}this.parentNode.appendChild(Y);if(SOSO_EXP.Tool.InArray(aH,[4,10,11])){var aR=aT.replace("sface","face"),aQ=new Image(),aU=this;aQ.onload=function(){if(aU==A){Y.innerHTML=l.replace("_SRC_",aR).replace("_STYLE_",aP);switch(aH){case 4:case 10:Y.className=(aM%8<4)?"mp_right":"mp_left";break;case 11:Y.className=(aM%7<4)?"mp_right":"mp_left";break;default:}aU.parentNode.appendChild(Y)}aQ.onload=null};setTimeout(function(){aQ.src=aR},1)}A=this;SOSO_EXP.Event.stopBubble(aS)},aL=function(aP){if(A&&Y==A.nextSibling){A.parentNode.removeChild(Y);A=null}SOSO_EXP.Event.stopBubble(aP)},aK=function(aP){var aQ=(aH==1)?"http://cache.soso.com/img/img/"+this.className+".gif":aI(this),aR=(aH==1)?null:aG(SOSO_EXP.DomHandler.TAG("img",this)[0]);aQ=aR?aQ.replace(/_([0-9]+)/g,"_"+aR).replace("sface","face"):aQ.replace("sface","face");SOSO_EXP.OuterFrame.fillEditBox(aQ);if(aH==1){this.style.borderColor="#FFF"}switch(aH){case 1:SOSO_EXP.Tool.StatReport({ch:"s.p.app.mr.p",cid:aN});break;case 10:SOSO_EXP.Tool.StatReport({ch:"s.p.app.seach.n",cid:aN});break;case 4:SOSO_EXP.Tool.StatReport({ch:"s.p.app.cool.n",cid:aN});default:}SOSO_EXP.Event.stopBubble(aP);SOSO_EXP.Event.preventDefault(aP)};SOSO_EXP.Event.addEvent(aC[aM],"mouseover",aO);SOSO_EXP.Event.addEvent(aC[aM],"mouseout",aL);SOSO_EXP.Event.addEvent(aC[aM],"click",aK);aF.push([aC[aM],"mouseover",aO],[aC[aM],"mouseout",aL],[aC[aM],"click",aK]);SOSO_EXP.OuterFrame.registerEvents(SOSO_EXP.OuterFrame.getCurIndex(),aF)})()}}},_bindExpBtnClickEvent=function(aC){SOSO_EXP.Event.addEvent(aC,"click",function(aD){if(!SOSO_EXP.DomHandler.ID(ag)){_setExpBtn(aC);d()}else{r()}SOSO_EXP.Event.stopBubble(aD)});if(!document.onclick){SOSO_EXP.Event.addEvent(document,"click",function(){r()})}},_setExpBtn=function(aC){aa=aC},_setScriptDoneFlag=function(aC){ab=aC};return{init:function(aC){P(aC.appid,aC.ref);if(aC.expBtn){_bindExpBtnClickEvent(aC.expBtn)}SOSO_EXP.OuterFrame.init(aC)},renderBox:function(aD,aC){if(!aD||aD.nodeType!==1){return false}ah=aD;if(!SOSO_EXP.DomHandler.ID(ag)){d()}if(!aC){N()}else{r()}},popupBox:function(aC){if(!SOSO_EXP.DomHandler.ID(ag)){_setExpBtn(aC);d()}else{r()}},hideBox:function(){r()},getCurExpBtn:function(){return aa},fillBoxHtml:function(aC){try{H(aC);_setScriptDoneFlag(true)}catch(aD){}},getScriptDoneFlag:function(){return ab},setScriptDoneFlag:function(aC){_setScriptDoneFlag(aC)},getOuterBox:function(){return ah}}}()};(function(){var d=window,a=document,c=d.location;var b="__sosostat";if(window[b]!==undefined){b="__appstat"}var e={server:"http://dr.soso.com/p1.gif",errServer:"http://pr.soso.com/pingd?srctype=exception",cookiePrefix:"sost_",imgArr:[],cookie:"",query:"",hostname:c.hostname,referrer:a.referrer,domain:"",cookieInfo:{},queryInfo:{},divHandlers:[],data:{},gatherTypes:{ss_c:"div"},groupTypes:{ch:"ch",pid:"pid"},persistentTypes:{pid:{entr:"ss_pidf"},cid:{entr:"ss_cidf",needSameDomain:true}},cookieParam:["suid","pid","cid","ss_pidf","ss_cidf"],sc:"",kvSplit:function(l,n,g){if(typeof l!="string"||l===""){return{}}n=n||"&";g=g||"=";var m={};var j=l.split(n);for(var k=0;k<j.length;++k){if(j[k].length==0){continue}var p=j[k];var f=p.indexOf(g);if(f<0){continue}var o=p.substring(0,f);var h=p.substring(f+g.length);m[o]=h}return m},getDomain:function(g){if(g===undefined&&this.domain){return this.domain}if(g===undefined){g=this.hostname}var f=g.split(".");if(f[f.length-1].match(/^\d+$/)){domain=g}else{domain=f.slice(-2).join(".")}if(g===this.hostname){this.domain=domain}return domain},getCookie:function(f){if(a.cookie!==this.cookie){this.cookie=a.cookie;this.cookieInfo=this.kvSplit(a.cookie,"; ")}return(this.cookieInfo[f])?decodeURIComponent(this.cookieInfo[f]):""},getQuery:function(f){if(c.search!==this.query){this.query=c.search;this.queryInfo=this.kvSplit(c.search.substring(1))}return this.queryInfo[f]},setCookie:function(h,k,f,l,j){l=l||"/";j=j||this.getDomain();var g=function(m){var n=new Date();if(m=="unlimited"){n.setFullYear(2038,0,1)}else{if(typeof m=="number"){if(m<=0){n.setFullYear(1970,1,1)}else{n.setTime(n.getTime()+m*1000)}}}return n.toGMTString()};var i=h+"="+encodeURIComponent(k)+(f||f===0?("; expires="+g(f)):"")+(l?";path="+l:"")+(j?";domain="+j:"");a.cookie=i},delCookie:function(f,h,g){this.setCookie(f,"",0,h,g)},loopDivs:function(){var h=a.getElementsByTagName("div");for(var g=0;g<h.length;++g){for(var f=0;f<this.divHandlers.length;++f){this.divHandlers[f](h[g])}}},regDivHandler:function(f){this.divHandlers.push(f)},regDivHandlers:function(){for(var f in this.gatherTypes){this.regDivHandler(this.getGatherFunc(f))}for(var f in this.groupTypes){this.regDivHandler(this.getGroupFunc(f))}},getGatherFunc:function(g,f){var f=f||"^";var h=this.data;return function(j){var i=j.getAttribute(g);if(i){h[g]=h[g]===undefined?"":h[g];h[g]+=(h[g]===""?"":f)+i}}},getGroupFunc:function(g,h){var h=h||this.getDomain();var f=this;return function(o){var j=o.getAttribute(g);if(!j){return}var l=g+"="+j;var n=o.getElementsByTagName("a");var m=new RegExp("[&?]"+g+"=");for(var k=0;k<n.length;++k){url=n[k];if(f.getDomain(url.hostname)==h){if(m.test(url.search)){continue}url.href=" "+url.href+(url.search?"&":"?")+l}}}},genSuid:function(){var f=new Date().getUTCMilliseconds();return(Math.round(Math.random()*2147483647)*f)%10000000000},submit:function(j,i){i=i||this.server;var n="";if(j.ref!==undefined){n="ref="+j.ref;delete (j.ref)}for(var g in j){n+=(n?"&":"")+g+"="+j[g]}n+=(n?"&":"")+"rand="+Math.random();var l=i+"?"+n;var m=new Image();var f=this.imgArr.push(m);var h=this.imgArr;m.onload=(m.onerror=function(){h[f-1]=null});m.src=l;m=null},setPersistentParams:function(h){for(var g in this.persistentTypes){var f=this.persistentTypes[g];var i=f.entr||(this.cookiePrefix+g+"_f");if(g in h){if(h[g]==this.getCookie(g)){this.setCookie(i,"1")}else{this.delCookie(i);this.setCookie(g,h[g])}}else{if(this.getCookie(g)){this.setCookie(i,"1")}}}},run:function(l){if(typeof(l)!="object"){l={}}this.setPersistentParams(l);this.regDivHandlers();this.loopDivs();if(!this.getCookie("suid")){this.setCookie("suid",this.genSuid(),"unlimited")}l.ref=encodeURIComponent(this.referrer);l.searchId=window.__searchId||0;l.sc=this.sc;l.domain=document.domain;for(var j in this.gatherTypes){var g=this.gatherTypes[j];if(this.data[j]){l[g]=this.data[j]}}for(var h=0;h<this.cookieParam.length;h++){var f=this.cookieParam[h];l[f]=this.getCookie(f)}this.submit(l)},prget:function(f,h,g,k){k=k||"web";g=g||0;var i={srctype:"getsret",ourl:escape(f),lurl:escape(window.location),suid:this.getCookie("suid"),ch:h,sort:g,sc:k,searchId:window.__searchId||0};var j="http://pr.soso.com/pingd";this.submit(i,j)}};window[b]=e})();